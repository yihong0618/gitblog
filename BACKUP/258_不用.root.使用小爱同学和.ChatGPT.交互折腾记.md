# [ä¸ç”¨ root ä½¿ç”¨å°çˆ±åŒå­¦å’Œ ChatGPT äº¤äº’æŠ˜è…¾è®°](https://github.com/yihong0618/gitblog/issues/258)

## ä»å†™åœ¨å‰é¢
é¡¹ç›®é“¾æ¥ -> https://github.com/yihong0618/xiaogpt
å¤§å¤šæ•°äº‹å„¿å¾ˆç®€å•çš„ä¸€ä¸ªç»“è®ºæ˜¯ï¼šè¿™ä¹ˆåšæœ‰ä»€ä¹ˆç”¨ï¼Ÿ
ä½†æ˜¯ï¼Œæ²¡ç”¨å°±ä¸åšäº†ä¹ˆï¼Ÿå¥½ç©ä¹Ÿæ˜¯æœ‰ç”¨ä¹‹ä¸€å‘€ã€‚

## æ³¨

ä¸‹æ–‡ä¸­ revChatGPT æ–¹æ¡ˆåºŸå¼ƒäº†ï¼Œå…¨éƒ¨æ”¹ç”¨ API, è¯·å‚è€ƒ repo.

## æƒ³æ³•

- ä» ChatGPT åˆšä¸Šç¬¬äºŒå‘¨å¼€å§‹ï¼Œæˆ‘å¼„äº†ä¸ªè´¦å·ï¼Œåæ¥å‘ç°ä¸€ä¸ªå¾ˆå¥½ç©çš„é¡¹ç›® [ChineseAiDungeonChatGPT](https://github.com/bupticybee/ChineseAiDungeonChatGPT) --> ç”¨ ChatGPT ç© DND, æˆ‘çªç„¶æƒ³æˆ‘èƒ½è¯­éŸ³å°±æ›´æœ‰å¸¦å…¥æ„Ÿäº†ã€‚
- å› ä¸ºä¹‹å‰æŠ˜è…¾ [blue](https://github.com/yihong0618/blue) æ—¶å€™äº†è§£äº†ä¸€äº›å°ç±³ IOT è®¾å¤‡çš„äº¤äº’ tts, æˆ‘è§‰å¾—æˆ‘ç”¨ä¸€äº›æ–¹å¼æ˜¯å¯ä»¥å®ç°çš„
- ä¸è¿‡ä»æƒ³æ³•åˆ°å¯ç”¨ç¡®å®ç»å†äº†ä¸å°‘

## å¼€å§‹æŠ˜è…¾

1. æœ€æ—©çš„ idea æ˜¯æŠŠå°çˆ±åŒå­¦ç ´è§£äº†ï¼Œç ´è§£ä¹‹åæ‹¦æˆªæˆ‘çš„å¯¹è¯ï¼Œå¦‚æœå¯¹è¯åŒ…å« `GPT` å°±ç”¨ç ´è§£çš„å°çˆ±å‘é€è¯·æ±‚åˆ° ChatGPT, å†æŠŠ ChatGPT çš„å›å¤æˆªåŒ…ï¼Œè¯»å‡ºæ¥ã€‚
- é‡åˆ°æœ€å¤§çš„å›°éš¾æ˜¯å°çˆ±æ€ä¹ˆç ´è§£ï¼Œæœäº†ä¸€åœˆå‘ç°ï¼Œå°çˆ±æ˜¯æœ‰åŠæ³•é€šè¿‡ä¸²å£æ¥ hook å†åˆ·å›ºä»¶çš„ã€‚
- ä½†ä¸²å£æ˜¯å•¥ï¼Ÿæˆ‘å­¦ä¹ äº†ä¸²å£é€šä¿¡ï¼Œç”¨è‡ªå·±æ ‘è“æ´¾åšå®éªŒï¼Œå»æ·˜å®ä¹° usb2ttl å­¦ä¼šäº†ã€‚ä½†æ˜¯éœ€è¦ç„Šæ¥ï¼Œæˆ‘åˆå» B ç«™åˆ·è§†é¢‘å­¦ä¹ ï¼Œé—®åŒäº‹ç¡¬ä»¶å¤§ç¥å¦‚ä½•ç„Šæ¥ï¼Œå­¦ä¼šäº†ç„Šæ¥ã€‚ä½†ï¼Œä»–å¦ˆçš„ï¼Œæ–°çš„å°çˆ±åŒå­¦æŠŠä¸²å£é€šä¿¡ç»™å°äº†ã€‚
- ç¿»åˆ°äº†ä¸€ä¸ªå›½å¤–ç ´è§£å°çˆ±åŒå­¦çš„ï¼Œ[èƒ½ç”¨æ‹†æœºåçš„ USB æ¥çƒ§å›ºä»¶](https://github.com/duhow/xiaoai-patch/blob/master/research/lx06/install.md)ï¼Œä½†æˆ‘æ²¡æœ‰ windowsï¼Œ-> å­¦ä¹ è€çš„ macbookpro 2015 åˆ·åŒç³»ç»Ÿï¼Œå°è¯•ç»™å°çˆ±åˆ·æœº -> å°ç±³æŠŠè¿™ä¸ªä¹Ÿå°äº†
- æœ‰è¶£çš„æ˜¯æ¯å¤©ç”¨å‘ç°ç¡®å®è¿˜æŒºå¥½ç”¨çš„ï¼Œè®©ä»–æ”¾æ­Œï¼Œç»™æˆ‘å„¿å­æ”¾å°çŒªä½©å¥‡ã€‚äºæ˜¯åˆç»™ä¸ˆæ¯å¨˜ä¹°äº†ä¸€ä¸ªï¼Œç»™å¥¹é…ç½®å¥½ï¼Œå¯ä»¥æ”¾æ­Œã€‚

2. ç¬¬ä¸€ä¸ªæ–¹å¼ä¸å¤ªè¡Œï¼Œå°è¯•å»ç”¨è·¯ç”± openwrt æˆªåŒ…å†å‘é€ï¼Œä¾ç„¶å¤±è´¥ï¼Œæˆ‘æŠ˜è…¾äº†ä¸€ä¸‹å‘ç° https è·å– payload è¿˜æ˜¯æœ‰äº›å›°éš¾çš„
3. è½¬å‘äº† Siri  é‚£ä¹ˆæˆ‘èƒ½ä¸èƒ½ç”¨ Siri  å®ç°å‘¢ï¼Ÿæ˜¯èƒ½çš„ï¼Œå¯ä»¥ç”¨ Siri  -> æ·å¾„ -> è·å–ä½ è¯´çš„è¯ -> å‘é€ ChatGPT -> å°çˆ± or ç›´æ¥ Siri è‡ªå·±æ¥
4. ç½‘å‹[è±¡ç‰™å±±åˆ˜èƒ½](https://twitter.com/disksing)æœ‰ä¸€å¤©å‘ä»–å„¿å­å°çˆ±åŒå­¦çš„èŠå¤©è®°å½•ï¼Œçªç„¶çµæ„Ÿæ¥äº†ï¼Œæˆ‘å¯ä»¥ç”¨æœ€è ¢çš„è½®è¯¢ï¼Œæ¥ä¸æ–­è·å–æœ€æ–°çš„èŠå¤©è®°å½•ï¼Œå¦‚æœæœ‰æ–°çš„ç¬¦åˆè¦æ±‚æˆ‘å°±å‘é€ç»™ ChatGPT --> å†ç”¨ tts è®©å°çˆ±åŒå­¦æœ—è¯»ï¼Œä½†å› ä¸ºæœ—è¯»éœ€è¦æ—¶é—´ï¼Œæ‰€ä»¥è½®è¯¢ä¹Ÿæ²¡é‚£ä¹ˆç¬¨äº†ã€‚

## å®ç°

- å…ˆå®ç°ä¸æ–­æ‹¿å¯¹è¯å†å²
- æµ‹è¯• revChatGPT å¯è¡Œ
- åˆ©ç”¨ MiService call tts å¯è¡Œ
- å‰©ä¸‹å°±æ˜¯å†™ä»£ç äº†

## å‡†å¤‡

1. ChatGPT id
2. å°çˆ±éŸ³å“
3. èƒ½æ­£å¸¸è”ç½‘çš„ç¯å¢ƒæˆ– proxy
4. python3.8+

## ä½¿ç”¨

1. pip install -r requirements.txt
2. å‚è€ƒ [MiService](https://github.com/Yonsm/MiService) é¡¹ç›® README å¹¶åœ¨æœ¬åœ° terminal è·‘ `micli list` æ‹¿åˆ°ä½ éŸ³å“çš„ DID æˆåŠŸ **åˆ«å¿˜äº†è®¾ç½® export MI_DID=xxx** è¿™ä¸ª MI_DID ç”¨ 
3. å‚è€ƒ [revChatGPT](https://github.com/acheong08/ChatGPT) é¡¹ç›® README é…ç½® chatGPT çš„ config
4. run `python xiaogpt.py  --hardware ${your_hardware}` hardware ä½ çœ‹å°çˆ±å±è‚¡ä¸Šæœ‰å‹å·ï¼Œè¾“å…¥è¿›æ¥
5. è·‘èµ·æ¥ä¹‹åå°±å¯ä»¥é—®å°çˆ±åŒå­¦é—®é¢˜äº†ï¼Œâ€œå¸®æˆ‘å›ç­”å¼€å¤´çš„é—®é¢˜â€ ä¼šå‘é€ä¸€ä»½ç»™ ChatGPT ç„¶åå°çˆ±åŒå­¦ç”¨ tts å›ç­”

## æ€»ç»“

- å®Œæˆé‚£ä¸€åˆ»ç¡®å®æŒºå¼€å¿ƒï¼Œä½†è¿‡ç¨‹ä¸­å‘ç°äº†å‡ ä¸ªå¥½ç©çš„[åšå®¢](http://javabin.cn/archives/)ï¼ŒæƒŠè®¶äº†åš revChatGPT çš„å­¦ç”ŸçœŸç‰›é€¼ï¼Œå­¦ä¼šäº†ç„Šæ¥ï¼Œå¼€å§‹å‘ç°ç¡¬ä»¶ä¹ŸæŒºæœ‰æ„æ€çš„ï¼Œä¸æ–­æŠ˜è…¾çš„è¿‡ç¨‹æ²®ä¸§æœ‰ä¸€äº›ï¼Œä½†æ›´å¤šçš„æ˜¯å­¦ä¹ æ–°ä¸œè¥¿å¸¦æ¥çš„å…´å¥‹æ„Ÿã€‚
- æ‹†æœºå‘ç°ï¼Œå°çˆ±åŒå­¦å†…éƒ¨åšå·¥ç¡®å®ä¸é”™
- æŠ˜è…¾è¿‡ç¨‹ä¸­çš„æ„Ÿå—ï¼Œå°†æ¥è‚¯å®šæœ‰ä¸€å¤©è¿™äº›æ™ºèƒ½éŸ³ç®±å‚å•†ä¹Ÿä¼šè®­ç»ƒå¤§æ¨¡å‹ï¼Œå°†å½»åº•æ”¹å˜æ™ºèƒ½å®¶å±…ï¼Œä»¿ä½›çœ‹åˆ°äº†æœªæ¥

## å½©è›‹

![image](https://user-images.githubusercontent.com/15976103/219273665-f8c252aa-0b05-4f18-9028-8cada453aea5.png)



---

ç°åœ¨ä¸ç”¨æŠ“åŒ…äº†ï¼Œä¿®æ”¹äº†æ–‡ç« 

---

å¯¹ï¼Œæ–°çš„ç‰ˆæœ¬è¿™ä¸ªæš‚æ—¶ä¸è¡Œ

---

@wsjq5477 å¯è¡Œï¼Œä½†æ˜¯ä¸è¦ mute-xiaomi

---

ä¼šé¢‘ç¹è¯·æ±‚ api, å®¹æ˜“è¢« ban è¦æ˜¯ä¸€ç›´è·‘

---

> @yihong0618 è¯·é—®ä¸‹æ”¾å°çŒªä½©å¥‡æ˜¯ä»€ä¹ˆæµç¨‹ğŸ˜Š

å°çˆ±åŒå­¦ï¼Œå¸®æˆ‘æ’­æ”¾å°çŒªä½©å¥‡



---

æ˜¯çš„ã€‚

---

æ˜¯

---

echo æœ‰äººåšå‡ºæ¥äº†

---

@deadjoker ä¸éœ€è¦ã€‚

---

å¯ä»¥åŒç¯å¢ƒéƒ¨ç½²å¤šä¸ªå§

---

æœ‰æ›´å¤šçš„æŠ¥é”™ä¿¡æ¯ä¹ˆï¼Ÿ@Enchner @liuwx2010 

---

æ·»åŠ  arg --verbose

---

> --mute_xiaoai è¿™ä¸ªå‚æ•°ä¸èƒ½ä½¿ç”¨ï¼Œä¸€ç”¨å°±æŠ¥é”™ MinaServiceé‡Œä¸å­˜åœ¨xxxæ–¹æ³• ä¾‹å¦‚ä¸å­˜åœ¨ player_get_status ä¸å­˜åœ¨player_pause æˆ‘å»æŸ¥äº†æºç çš„ç¡®æ²¡æœ‰
> 
> è¿™ä¸ªé¡¹ç›®æ˜¯ä¸æ˜¯æœ‰ç‚¹bug

1. pip uninstall miservice
2. pip install -U miservice_fork
3. ä»¥å bug å»ºè®®åœ¨è¯¥é¡¹ç›®çš„ issue ä¸‹ç•™è¨€ï¼Œé‚£æ ·å¤§å®¶éƒ½èƒ½çœ‹åˆ°ï¼Œä½ æœä¸‹è¿™ä¸ªï¼Œé‡Œé¢ä¹Ÿæœ‰äººæè¿‡