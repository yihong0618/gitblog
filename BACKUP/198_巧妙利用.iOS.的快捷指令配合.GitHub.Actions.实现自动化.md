# [å·§å¦™åˆ©ç”¨ iOS çš„å¿«æ·æŒ‡ä»¤é…åˆ GitHub Actions å®žçŽ°è‡ªåŠ¨åŒ–](https://github.com/yihong0618/gitblog/issues/198)

ä¹‹å‰ä¸€ç›´åœ¨åˆ©ç”¨ Actions çš„ crontab æ¯ä¸€ä¸ªå°æ—¶è·‘ä¸€æ¬¡ã€‚ä½†æˆ‘ä¸€ç›´åœ¨æ€è€ƒï¼Œèƒ½ä¸èƒ½æˆ‘åªè¦è·‘å®Œæ­¥å°±è§¦å‘ï¼Œé‚£æ ·å¯ä»¥èŠ‚çœå¾ˆå¤šèµ„æºï¼Œè¿˜å¯ä»¥è·‘å®Œå°±èƒ½çœ‹åˆ°è‡ªå·±æ–°ç”Ÿæˆçš„æ•°æ®ã€‚

äºŽæ˜¯æƒ³åˆ°äº†ï¼Œå¯ä»¥åˆ©ç”¨æ·å¾„å•Šï¼æˆ‘ä»¬ä¸€èˆ¬åˆ©ç”¨ app è®°å½•è·‘æ­¥ï¼Œå¦‚æžœèƒ½ç”¨æŸç§æ‰‹æ®µè·‘å®Œæ­¥ï¼Œè§¦å‘ Actions å°±å¯ä»¥åŒæ­¥æ•°æ®ï¼Œæˆ–æ˜¯å®Œæˆå…¶å®ƒåŠŸèƒ½äº†ã€‚

è¿™æ ·å°±ä¸ç”¨ crontab äº†ï¼Œåªè¦èƒ½åˆ©ç”¨æ‰‹æœºè§¦å‘å°±å¯ä»¥äº†ã€‚

## é‚£ä¹ˆæ€Žä¹ˆè§¦å‘å‘¢ï¼Ÿ

- æœ€å¼€å§‹æˆ‘çŸ¥é“ Actions èƒ½æ‰‹åŠ¨è§¦å‘æ˜¯æ¥è‡ª @laixintao çš„ä¸€ç¯‡åšå®¢ -- [çŽ©äº†ä¸€ä¸‹ Github ä¸ªäººé¦–é¡µçš„ Profile](https://www.kawabangga.com/posts/4117) ä¸­çš„ä¸€ä¸ªå›žå¤ï¼ŒåŽŸæ¥æ˜¯å¯ä»¥ç»™ actions å¢žåŠ æ‰‹åŠ¨è§¦å‘é€‰é¡¹çš„ã€‚
![image](https://user-images.githubusercontent.com/15976103/102953626-bbf12800-450c-11eb-9e9e-a13f1c57f32a.png)
-  å¦‚æžœå¯ä»¥æ‰‹åŠ¨è§¦å‘ï¼Œé‚£ä¹ˆæœ‰æ²¡æœ‰ api å‘¢ï¼Ÿæœç´¢äº†ä¸‹ GitHub API æ–‡æ¡£ï¼Œå¹¶æ²¡æœ‰å‘çŽ°è¿™ä¸ªã€‚å°è¯•æœç´¢äº†ä¸€ä¸‹ GitHub å—¯ï¼Œåœ¨æŸä¸ªé¡¹ç›®ä¸‹å‘çŽ°æŸä¸ªäººåšè¿‡ç±»ä¼¼çš„æƒ³æ³•ã€‚å¥½äº†ï¼Œapi æœ‰äº†ã€‚è¯•è¯•èƒ½ä¸èƒ½è§¦å‘ã€‚
- é¦–å…ˆåœ¨ yml æ–‡ä»¶ä¸­å¢žåŠ  `workflow_dispatch:` å¯ä»¥æ‰‹åŠ¨è§¦å‘
- å…ˆæ‹¿åˆ°è¿™ä¸ªé¡¹ç›®çš„ actions id (éœ€è¦è‡ªè¡Œç”³è¯· token)
```shell
 curl https://api.github.com/repos/yihong0618/blog/actions/workflows -H "Authorization: token d8xxxxxxxxxx" # change to your config
```
![image](https://user-images.githubusercontent.com/15976103/102953873-3f127e00-450d-11eb-8e77-72f732f2a680.png)
- æ‹¿åˆ° action id å°±å¯ä»¥åˆ©ç”¨ api post è§¦å‘ action å•¦
```shell
 curl -H "Content-Type:application/json" -X POST -d '{"inputs": {}, "ref":"master"}' https://api.github.com/repos/yihong0618/blog/actions/workflows/: actionid/dispatches -H "Authorization: token d8e03d6xxxxxxxxxxxx"  # change to your config
```

## é‚£ä¹ˆæ€Žä¹ˆç»“åˆæ·å¾„å‘¢ï¼Ÿ

1. æ·å¾„æ‰“å¼€æˆ–å…³é—­ app è¿è¡Œï¼Œé‚£ä¹ˆï¼Œè·‘å®Œæ­¥ä¸€èˆ¬ä¼šå…³é—­ app, åªè¦å…³é—­ app è§¦å‘å°±å¯ä»¥
![image](https://user-images.githubusercontent.com/15976103/102954434-69b10680-450e-11eb-8d02-e7fe8652b2b8.png)
2. å¢žåŠ æ·å¾„ä¸­çš„ç½‘ç»œè¯·æ±‚æ¡ä»¶
![image](https://user-images.githubusercontent.com/15976103/102954505-8ea57980-450e-11eb-89dd-f59e0e8e5879.png)
3. å¡«å†™ä½ ä¹‹å‰èŽ·å–åˆ°çš„ url å’Œ payload (è§¦å‘æ·å¾„çš„api)
![image](https://user-images.githubusercontent.com/15976103/102954567-b7c60a00-450e-11eb-99c1-a095e84eeaef.png)
4. ä½ è·‘å®Œæ­¥å…³é—­è·‘æ­¥ app æ—¶å€™å°±å¯ä»¥è§¦å‘è¿™ä¸ªæ·å¾„äº†ã€‚ä¹‹åŽå°±å¯ä»¥æŠŠåŽŸæ¥ crontab çš„ä¸€å°æ—¶ä¸€æ¬¡ï¼Œæ”¹æˆä¸€å¤©ä¸€æ¬¡äº†ã€‚
![image](https://user-images.githubusercontent.com/15976103/102954679-0c698500-450f-11eb-94ad-357b50ee097e.png)

## è¿˜å¯ä»¥åšä»€ä¹ˆå‘¢ï¼Ÿ

1. åˆ©ç”¨ [shanbay_remember](https://github.com/yihong0618/shanbay_remember) æ‰‡è´èƒŒå®Œä»Šæ—¥å•è¯ï¼Œå…³é—­ app æ—¶è§¦å‘æ·å¾„è‡ªåŠ¨å‘é€ä»Šæ—¥çš„å•è¯ mp3 å’Œå•è¯æ•´ç†åˆ° tg
2. åˆ©ç”¨åœ°ç†ä½ç½®æˆ– wifi è§¦å‘ï¼Œåˆ°å…¬å¸è‡ªåŠ¨å‘é€æ¯æ—¥ GitHub status
3. å¯ä»¥åˆ©ç”¨ä¸€ä¸ª action è§¦å‘å¦ä¸€ä¸ªé¡¹ç›®çš„ actionï¼Œå®žçŽ°å¦ä¸€ä¸ª repo çš„æ›´æ–°
4. åˆ©ç”¨å…³é—­é—¹é’ŸåŒæ­¥è‡ªå·±[èµ·åºŠè®°å½•](https://github.com/yihong0618/2021/issues/12)
5. ..........æ¬¢è¿Žå¤§å®¶æƒ³åˆ°å¥½çŽ©çš„è¡¥å……
6. è®°å½•å±•ç¤ºè‡ªå·±çš„å¿ƒè·³ -- [iBeats](https://github.com/yihong0618/iBeats)
![image](https://user-images.githubusercontent.com/15976103/102954939-b517e480-450f-11eb-8a2c-a45ead741968.png)




---

> æ·å¾‘å¥½åƒå¾ˆå¥½ç”¨çš„æ¨£å­ï¼Œæˆ‘ä¹Ÿæƒ³ç”¨iphone...

æˆ‘æ‹è„‘è¢‹æ„Ÿè§‰å®‰å“åº”è¯¥æœ‰æ›¿ä»£å“ã€‚

---

> æ„Ÿè°¢åˆ†äº«ðŸ˜„

è°¢è°¢å“ˆå“ˆã€‚